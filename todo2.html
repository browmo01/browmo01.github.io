<html>
<link rel="stylesheet" href="todo2.css" type="text/css">
<body>
<h1>My To Do List</h1>
<main>
<ul id="tasklist"></ul>

</main>

<aside> 
<label for="taskbox">Enter Task</label>
<input type="text" id="taskbox" size=40 value="Enter text here">
<select id="priority">
	<option class="high">high</option>
	<option class="medium">medium</option>
	<option class="low">low</option>
	</select>
	
<button onclick="addTask()"> New </button>
</aside>

<script type="text/javascript">
addTask=function() {
var newli
task = document.querySelector("#taskbox");
taskList = document.querySelector("#tasklist");
priorityValue = document.querySelector("#priority").value;
newli = document.createElement('li');
newli.className = priorityValue;
newcb=document.createElement('input');
newcb.type = 'checkbox';
newli.appendChild(newcb);
t = document.createTextNode(task.value);
newli.appendChild(t);

taskList.appendChild(newli);
task.value = "";
newcb.onclick = doneTask;
localSave()

}

doneTask = function() {
if (this.checked) {
this.parentNode.classList.add("done");
} else {
this.parentNode.classList.remove("done");

}
localSave()
}

/*
localSave = function() {
res = []
var i;
allEntries = document.querySelectorAll('li')
for(i=0; i < allEntries.length; i++) {
if (allEntries[i].className != "done") {
res.push(allEntries[i].innerText);
}
}
console.log(res)
localStorage.setItem("todoDatabase",JSON.stringify(res))
}
*/



/*
restoreList = function() {
allEntries = JSON.parse(localStorage.getItem("todoDatabase"));
for(i=0; i < allEntries.length; i++) {
*/




</script>
</body>
</html>